<div id="dashboard-container" class="dashboard-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <img src="Images/nckuh3.png" alt="成大醫院" class="logo-icon">
            <div class="logo-text">
                <h1>成大醫院</h1>
                <p>NCKUH</p>
            </div>
        </div>
            
        <div class="menu-title">功能選單</div>
            
        <div class="menu-item active">
            <svg class="menu-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" fill="currentColor" />
            </svg>
            <span>Dashboard</span>
        </div>
        <div class="menu-item">
            <svg class="menu-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor" />
            </svg>
            <span @onclick="OnGotoBrowser">病人資料瀏覽</span>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <div class="back-btn">‹</div>
            <div class="dashboard-label">
                醫療數據儀表版</div>
            @* <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()"> *@
            <button class="theme-toggle" id="themeToggle" @onclick="ToggleTheme">
                    <span class="theme-icon">☀️</span>
            </button>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">合作醫院</div>
                    <svg class="stat-icon icon-teal" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z" fill="currentColor" />
                    </svg>
                </div>
                <div class="stat-value">3</div>
                <div class="stat-subtitle">成大、郭綜合、奇美</div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">總病例數</div>
                    <svg class="stat-icon icon-blue" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" fill="currentColor" />
                    </svg>
                </div>
                <div class="stat-value">1,162</div>
                <div class="stat-subtitle">
                    <span class="stat-change positive">本月新增52例</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">完成率</div>
                    <svg class="stat-icon icon-green" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" fill="currentColor" />
                    </svg>
                </div>
                <div class="stat-value">78.3%</div>
                <div class="stat-subtitle">
                    <span class="stat-change positive">+1.8%</span>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-header">
                    <div class="stat-title">分析報告</div>
                    <svg class="stat-icon icon-purple" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" fill="currentColor" />
                    </svg>
                </div>
                <div class="stat-value">17</div>
            </div>
        </div>

        <!-- Charts Grid -->
        <div class="charts-grid">
            <div class="chart-card">
                <div class="chart-header">
                    <div class="chart-title">醫院個數</div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-dot dot-teal"></div>
                            <span>成大</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot dot-coral"></div>
                            <span>郭綜合</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot dot-yellow"></div>
                            <span>奇美</span>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="hospitalChart"></canvas>
                </div>
            </div>

            <div class="chart-card">
                <div class="chart-header">
                    <div class="chart-title">分期統計</div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-dot dot-teal"></div>
                            <span>1期</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot dot-coral"></div>
                            <span>2期</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot dot-yellow"></div>
                            <span>3期</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot dot-blue"></div>
                            <span>4期</span>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="stageChart"></canvas>
                </div>
            </div>
        </div>

        <div class="bottom-grid">
            <div class="chart-card">
                <div class="chart-header">
                    <div class="chart-title">卵巢癌 / 內膜癌</div>
                </div>
                <div class="chart-container" style="height: 240px;">
                    <canvas id="cancerTypeChart"></canvas>
                </div>
                <div class="pie-stats">
                    <div class="pie-stat-item">
                        <div class="pie-stat-dot dot-coral"></div>
                        <span class="pie-stat-label">卵巢癌</span>
                        <span class="pie-stat-value">524例</span>
                    </div>
                    <div class="pie-stat-item">
                        <div class="pie-stat-dot dot-teal"></div>
                        <span class="pie-stat-label">內膜癌</span>
                        <span class="pie-stat-value">638例</span>
                    </div>
                </div>
            </div>

            <div class="chart-card">
                <div class="chart-header">
                    <div class="chart-title">完成率</div>
                </div>
                <div class="chart-container" style="height: 240px;">
                    <canvas id="completionChart"></canvas>
                </div>
                <div class="pie-stats">
                    <div class="pie-stat-item">
                        <div class="pie-stat-dot dot-coral"></div>
                        <span class="pie-stat-label">已完成</span>
                        <span class="pie-stat-value">907例</span>
                    </div>
                    <div class="pie-stat-item">
                        <div class="pie-stat-dot dot-teal"></div>
                        <span class="pie-stat-label">未完成</span>
                        <span class="pie-stat-value">255例</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

